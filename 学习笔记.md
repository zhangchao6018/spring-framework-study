### 准备环境

    需要gradle环境支持
    官网下载spring源码,gradle编译源码:./gradlew :spring-oxm:compileTestJava
    ide导入编译好的工程,排除spring-aspects工程(该工程的编译环境非gradle,具体查看官网描述:https://github.com/spring-projects/spring-framework/tree/v5.2.0.RELEASE)

###hello
    xml形式读取bean
        新建spring-demo工程,build.gradle添加依赖引用本地spring-context
        编写xml,配置bean:resources/spring/spring-config.xml
        编写测试类,测试spring容器:com.demo.Entrance  --run
    注解形式读取bean
        加入口类加上注解
            @Configuration
            @ComponentScan("com.demo")

###全局掌握核心接口和类
    解决了关键的问题:将对象之间的关系转为配置(xml/注解)来管理
        依赖注入--依赖关系在Spring的IOC容器中管理
        通过把对象包装在Bean中以达到管理对象和进行额外操作的目的
        
###Bean与BeanDefinition
    Bean的本质就是java对象,只是这个对象的声明周期由容器来管理
    不需要为了创建Bean而在原来的java来上添加任何额外的限制--低侵入
    1.Bean的定义:
        根据配置,生成用来描述Bean的BeanDefinition,常用属性:
            1.作用范围scope(@Scope)  singleton prototype(多个) request session globalsession
            2.懒加载lazy-init(@Lazy):决定Bean实例是否延迟加载
            3.首选primary(@Primary) :设置为true的bean会是优先的实现类
            4.factory-bean和factory-method(@Configuration和@Bean)
    2.容器初始化做的主要事情
        读取配置文件->读取成Resource对象->解析BeanDefinition->注册进容器
            解析配置
            定位与注册对象
        
        组件扫描:自动发现应用容器中需要创建的Bean,例如:@Controller @Service ...
        自动装配:自动满足Bean之间的依赖,如:@Autowired
            源码:org.springframework.beans.factory.config.AutowireCapableBeanFactory
                org.springframework.beans.factory.support.DefaultListableBeanFactory.beanDefinitionMap -->bean实例容器
    3.BeanFactory  & ApplicationContext       
        BeanFactory 面向spring框架自身
        ApplicationContext 面向开发者
            public interface ApplicationContext extends EnvironmentCapable, ListableBeanFactory, HierarchicalBeanFactory,
                    MessageSource, ApplicationEventPublisher, ResourcePatternResolver 
            EnvironmentCapable :主要可以获取启动参数,配置文件等
            ListableBeanFactory:通过列表方式管理Bean
            HierarchicalBeanFactory:多层级容器,对每个层级Bean的管理
            ResourcePatternResolver:加载资源文件
            MessageSource:国际化
            ApplicationEventPublisher:事件发布能力(监听机制)
        ApplicationContext常用容器(实现)
            传统的基于Xml配置的经典容器
                FileSystemXmlApplicationContext:从文件系统加载配置
                ClassPathXmlApplicationContext:从classpath加载配置
                XmlWenApplicationContext:用于web应用容器
            目前比较流行的容器:
                AnnotationConfigServletWebServerApplicationContext  spring-boot
                AnnotationConfigReactiveWebServerApplicationContext  spring-boot
                AnnotationConfigApplicationContext  --非web应用
             
        容器的共性:
            refresh()大致功能:
                容器初始化,配置解析
                BeanFactoryPostProcessor和BeanPostProcessor的注册和激活
                国际化配置
                ...
          